<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usage & Billing | NETSIM</title>
    <link rel="icon" type="image/x-icon" href="img/LogoS.png">
    <link rel="stylesheet" href="style.css">
    
    <script>
        (function() {
            if (!localStorage.getItem("user")) {
                window.location.replace("login.html");
            }
        })();
    </script>
</head>
<body class="usage-page">

<header class="navbar">
    <div class="logo" onclick="window.location.href='home.html'">
        NET<span>SIM</span>
    </div>

    <div class="user-actions">
        <div class="profile-btn" onclick="window.location.href='profile.html'">
            <div class="profile-card">
                <img id="profileImage" src="img/P.png" alt="Profile">
                <h3 id="profileName"></h3>
                <p id="profileEmail"></p>
            </div>
        </div>
        <button class="openbtn" onclick="openNav()">☰</button>
    </div>

    <div id="mySidepanel" class="sidepanel">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
        
        <a href="admin_dashboard.html" id="adminBtn" style="display: none;">Admin Dashboard</a>
        
        <a href="#packages">Internet Packages</a>
        <a href="#services">Entertainment Services</a>
        <a href="usage.html">Bills and Usage</a>
        <a href="javascript:void(0)" class="login-btn" onclick="logout()">Logout</a>
    </div>
</header>

    <div class="usage-container">
        <h2 class="section-title">My Active Packages</h2>
        <div id="active-package" class="usage-grid">
            <p>Loading usage...</p>
        </div>

        <h2 class="section-title">Billing History</h2>

        <section class="billing-section">
            <div class="history-controls">
                <label for="dateFilter">Select Date:</label>
                <input type="date" id="dateFilter" class="date-input">
                <button onclick="resetDateFilter()" class="btn-outline" style="padding: 8px 15px; margin-left: 10px; width: auto;">Show All</button>
            </div>

            <div class="table-responsive">
                <table class="bill-table" style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background: #f4f4f4; text-align: left;">
                            <th style="padding: 15px;">Package</th>
                            <th style="padding: 15px;">Type</th>
                            <th style="padding: 15px;">Price</th>
                        </tr>
                    </thead>
                    <tbody id="billing-table-body">
                        </tbody>
                </table>
            </div>
        </section>
                
        <div style="margin-top: 30px; text-align: center;">
            <button onclick="window.location.href='home.html'" class="btn-outline" style="max-width: 200px;">Back to Home</button>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.1.0/dist/umd/supabase.js"></script>
    <script src="auth_monitor.js"></script>
    <script type="module" src="usage.js"></script>
    <script src="home.js"></script> 
    <script>
        function logout() {
            localStorage.removeItem("user");
            window.location.href = "login.html";
        }
    </script>
    <script src="HB.js"></script>  
    <script type="module" src="homepro.js"></script>
</body>
</html>





